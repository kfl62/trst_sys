<%#
# To change this template, choose Tools | Templates
# and open the template in the editor.
%>
<div  style="width:760px;height:480px">
  <% obj = trst_find_all(TrstSysMenu) ; i = obj.offset %>
  <% if obj.length == 0  %>
    <script type="text/javascript"> TrstWindow.edit(<%= params[:id] %>,"new");</script>
  <% end %>
  <table class="full">
    <thead>
      <tr>
        <th>&nbsp;</th>
        <th title="<%=t 'tasks.db_sys_menu.list.name' %>"><%= TrstSysMenu.human_attribute_name("name") %></th>
        <th title="<%=t 'tasks.db_sys_menu.list.controller' %>"><%= TrstSysMenu.human_attribute_name("controller") %></th>
        <th title="<%=t 'tasks.db_sys_menu.list.chapter' %>"><%= TrstSysMenu.human_attribute_name("chapter") %></th>
        <th title="<%=t 'tasks.db_sys_menu.list.page' %>"><%= TrstSysMenu.human_attribute_name("page") %></th>
        <th title="<%=t 'tasks.db_sys_menu.list.has_submenu' %>"><%= TrstSysMenu.human_attribute_name("has_submenu") %></th>
        <th title="<%=t 'tasks.db_sys_menu.list.title' %>"><%= TrstSysMenu.human_attribute_name("title") %></th>
        <th>&nbsp;</th>
      </tr>
    </thead>
    <tbody>
      <% for o in obj %>
        <tr class="<%= cycle("even","odd") %>">
          <td align="right"><%= i += 1 %>.&nbsp;</td>
          <td align="left"><%= o.name %></td>
          <td align="left"><%= o.controller %></td>
          <td align="left"><%= o.chapter %></td>
          <td align="left"><%= o.page %></td>
          <td align="left"><%= o.has_submenu %></td>
          <td align="left"><%= o.title %></td>
          <td align="center" style="border-left : 1px ridge #ffffff; width : 50px">
            <%= image_tag 'db_edit.png',
              :alt => t('activerecord.attributes.crud.edit'),
              :title => t('activerecord.attributes.crud.edit'),
              :size => "13x13",
              :style => "cursor : pointer; vertical-align : middle;",
              :onclick => "TrstWindow.edit(#{params[:id]}, #{o.id}); return false;" %>
            <%= image_tag 'db_show.png',
              :alt => t('activerecord.attributes.crud.show'),
              :title => t('activerecord.attributes.crud.show'),
              :size => "13x13",
              :style => "cursor : pointer; vertical-align : middle;",
              :onclick => "TrstWindow.show(#{params[:id]}, #{o.id}); return false;" %>
            <%= image_tag 'db_remove.png',
              :alt => t('activerecord.attributes.crud.remove'),
              :title => t('activerecord.attributes.crud.remove'),
              :size => "13x13",
              :style => "cursor : pointer; vertical-align : middle;",
              :onclick => "TrstWindow.remove(#{params[:id]}, #{o.id}); return false;" %>
          </td>
        </tr>
      <% end %>
      <% if i.modulo(obj.per_page) > 0 %>
        <% (obj.per_page-i.modulo(obj.per_page)).times do %>
          <tr class="even">
            <td colspan="8">&nbsp;</td>
          </tr>
        <% end %>
      <% end %>
      <tr class="even">
        <td colspan="7" align="center" style="padding-top:10px"><%= trst_paginate(obj) %></td>
        <td style="border-left : 1px ridge #ffffff; width : 50px">
          <%= image_tag 'db_new.png',
            :alt => t('activerecord.attributes.crud.new'),
            :title => t('activerecord.attributes.crud.new'),
            :size => "18x18",
            :style => "padding : 0 0 0 10px; cursor : pointer; vertical-align : middle;",
            :onclick => "TrstWindow.edit(#{params[:id]},'new'); return false;" %>
        </td>
      </tr>
    </tbody>
  </table>
</div>
